{"filter":false,"title":"ShortCut.java","tooltip":"/2/Android/ShortCut.java","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":4},"end":{"row":72,"column":5}},"text":"L"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":5},"end":{"row":72,"column":6}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":6},"end":{"row":72,"column":7}},"text":"E"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":7},"end":{"row":72,"column":8}},"text":"R"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":8},"end":{"row":72,"column":9}},"text":"N"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":9},"end":{"row":72,"column":10}},"text":"A"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":10},"end":{"row":72,"column":11}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":11},"end":{"row":72,"column":12}},"text":"I"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":12},"end":{"row":72,"column":13}},"text":"V"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":13},"end":{"row":72,"column":14}},"text":"E"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":14},"end":{"row":72,"column":15}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":15},"end":{"row":72,"column":16}},"text":"R"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":16},"end":{"row":72,"column":17}},"text":"O"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":17},"end":{"row":72,"column":18}},"text":"U"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":18},"end":{"row":72,"column":19}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":19},"end":{"row":72,"column":20}},"text":"E"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":20},"end":{"row":73,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":0},"end":{"row":73,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":1},"end":{"row":73,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":71,"column":1},"end":{"row":72,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":0},"end":{"row":72,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":1},"end":{"row":72,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":2},"end":{"row":72,"column":3}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":3},"end":{"row":72,"column":4}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":4},"end":{"row":72,"column":5}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":5},"end":{"row":72,"column":6}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":6},"end":{"row":72,"column":7}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":7},"end":{"row":72,"column":8}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":8},"end":{"row":72,"column":9}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":9},"end":{"row":72,"column":10}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":10},"end":{"row":72,"column":11}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":11},"end":{"row":72,"column":12}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":12},"end":{"row":72,"column":13}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":13},"end":{"row":72,"column":14}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":14},"end":{"row":72,"column":15}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":15},"end":{"row":72,"column":16}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":16},"end":{"row":72,"column":17}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":17},"end":{"row":72,"column":18}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":18},"end":{"row":72,"column":19}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":19},"end":{"row":72,"column":20}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":2},"end":{"row":74,"column":3}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":3},"end":{"row":74,"column":4}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":4},"end":{"row":74,"column":5}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":5},"end":{"row":74,"column":6}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":6},"end":{"row":74,"column":7}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":7},"end":{"row":74,"column":8}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":8},"end":{"row":74,"column":9}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":9},"end":{"row":74,"column":10}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":10},"end":{"row":74,"column":11}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":11},"end":{"row":74,"column":12}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":12},"end":{"row":74,"column":13}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":13},"end":{"row":74,"column":14}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":14},"end":{"row":74,"column":15}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":15},"end":{"row":74,"column":16}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":16},"end":{"row":74,"column":17}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":17},"end":{"row":74,"column":18}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":18},"end":{"row":74,"column":19}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":19},"end":{"row":74,"column":20}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":20},"end":{"row":75,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":0},"end":{"row":76,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":76,"column":0},"end":{"row":76,"column":29}},"text":" private void addShortcut() {"},{"action":"insertText","range":{"start":{"row":76,"column":29},"end":{"row":77,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":77,"column":0},"end":{"row":99,"column":0}},"lines":["    //Adding shortcut for MainActivity on Home screen","    Intent shortcutIntent = new Intent(getApplicationContext(),MainActivity.class);","","    shortcutIntent.setAction(Intent.ACTION_MAIN);","","    Intent addIntent = new Intent();","    addIntent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);","    addIntent.putExtra(Intent.EXTRA_SHORTCUT_NAME, this.getResources().getString(R.string.app_name));","    addIntent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE,Intent.ShortcutIconResource.fromContext(getApplicationContext(),","                        R.drawable.ic_launcher));","","    addIntent.setAction(\"com.android.launcher.action.INSTALL_SHORTCUT\");","    getApplicationContext().sendBroadcast(addIntent);","}","","    // TO check app is installed first time.","    SharedPreferences prefs = getSharedPreferences(\"ShortCutPrefs\", MODE_PRIVATE);","    if(!prefs.getBoolean(\"isFirstTime\", false)){","        addShortcut();","        SharedPreferences.Editor editor = prefs.edit();","        editor.putBoolean(\"isFirstTime\", true);","        editor.commit();"]},{"action":"insertText","range":{"start":{"row":99,"column":0},"end":{"row":99,"column":6}},"text":"    } "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":99,"column":6},"end":{"row":100,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":100,"column":0},"end":{"row":100,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":100,"column":0},"end":{"row":100,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":100,"column":0},"end":{"row":101,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":100,"column":0},"end":{"row":101,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":99,"column":6},"end":{"row":100,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":99,"column":6},"end":{"row":100,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":100,"column":0},"end":{"row":100,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":0},"end":{"row":76,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":76,"column":0},"end":{"row":77,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":0},"end":{"row":75,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":1},"end":{"row":75,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":2},"end":{"row":75,"column":3}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":3},"end":{"row":75,"column":150}},"text":"Call this method in your First screen's onCreate() method. Also ensure to check that app is running first time using SharedPreferences like I did :"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":20},"end":{"row":75,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":0},"end":{"row":75,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":75,"column":1},"end":{"row":75,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":0},"end":{"row":77,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":77,"column":1},"end":{"row":77,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":20},"end":{"row":73,"column":21}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":20},"end":{"row":72,"column":21}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":20},"end":{"row":74,"column":21}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":74,"column":3},"end":{"row":74,"column":4}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":73,"column":3},"end":{"row":73,"column":4}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":72,"column":3},"end":{"row":72,"column":4}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":103,"column":4},"end":{"row":104,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":104,"column":0},"end":{"row":104,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":104,"column":0},"end":{"row":104,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":0},"end":{"row":104,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":1},"end":{"row":104,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":2},"end":{"row":105,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":105,"column":0},"end":{"row":105,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":105,"column":1},"end":{"row":105,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":105,"column":2},"end":{"row":106,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":106,"column":0},"end":{"row":106,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":106,"column":1},"end":{"row":106,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":106,"column":2},"end":{"row":107,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":107,"column":0},"end":{"row":107,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":107,"column":1},"end":{"row":107,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":107,"column":2},"end":{"row":108,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":108,"column":0},"end":{"row":108,"column":37}},"text":"Intent shortcutIntent = new Intent();"},{"action":"insertText","range":{"start":{"row":108,"column":37},"end":{"row":109,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":109,"column":0},"end":{"row":123,"column":0}},"lines":["shortcutIntent.setClassName(ai.packageName, ai.name);","shortcutIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);","shortcutIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);","shortcutIntent.addCategory(Intent.ACTION_PICK_ACTIVITY);","Intent intent = new Intent();","intent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, shortcutIntent);","intent.putExtra(Intent.EXTRA_SHORTCUT_NAME, appName);","","BitmapDrawable bd=(BitmapDrawable)(res.get(app_id).activityInfo.loadIcon(p).getCurrent());","Bitmap newbit;","newbit=bd.getBitmap();","intent.putExtra(Intent.EXTRA_SHORTCUT_ICON, newbit);","","intent.setAction(\"com.android.launcher.action.INSTALL_SHORTCUT\");"]},{"action":"insertText","range":{"start":{"row":123,"column":0},"end":{"row":123,"column":30}},"text":"context.sendBroadcast(intent);"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":107,"column":2},"end":{"row":108,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":124,"column":30},"end":{"row":125,"column":0}},"text":"\n"}]}]]},"ace":{"folds":[],"scrolltop":1301,"scrollleft":0,"selection":{"start":{"row":125,"column":0},"end":{"row":125,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":80,"state":"start","mode":"ace/mode/java"}},"timestamp":1412905250601,"hash":"844166062a96f073ed10810a70b167c9337b2267"}